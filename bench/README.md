# Execute benchmark

There are two executables:
- `start_bench`
- `start_bench_smelt`

The executable `start_bench` does not use the trees generated by Smelt,
where as at the moment `start_bench_smelt` uses them for onepaxos.

The arguments to the executables are:

- Protocol on Tier1
- Protocol on Tier2
- Path to config file

The Protocols are encoded in the following way:

- 1Paxos = 0
- TPC = 1
- BROAD = 2
- CHAIN = 3
- RAFT = 4
- SHM = 5
- NONE = 6

Only certain combinations work at the moment (TODO):

- 1Paxos/SHM
- TPC/SHM
- BROAD/SHM
- CHAIN/SHM
- 1Paxos/NONE
- TPC/NONE
- BROAD/NONE
- CHAIN/NONE

The config file has the following format:

	18          # num_cpu
	4           # num_replicas
	4           # node_size
	2           # num_clients
	0 1 2 3     # node0 cores
	4 5 6 7     # node1 cores
	8 9 10 11   # node2 cores
	12 13 14 15 # node3 cores
	16 17       # client_cores

If only the Tier1 protocol is started the node_size hast to be 1 i.e.:

	12          # num_cpu
	10          # num_replicas
	1           # node_size
	2           # num_clients
	0 1 2 3 4 5 6 7 8 9  # node0 cores
	10 11       # client_cores
